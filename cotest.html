<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>Video.js + Hls.js 播放器示例</title>
    <!-- 引入Video.js的CSS文件 -->
    <link href="https://vjs.zencdn.net/7.20.3/video-js.css" rel="stylesheet">
</head>
<body>
    <!-- 播放器容器 -->
    <video id="videojs-hls-player" class="video-js vjs-default-skin" controls preload="auto" width="600" height="400"></video>

    <!-- 引入Video.js的JS文件 -->
    <script src="https://vjs.zencdn.net/7.20.3/video.min.js"></script>
    <!-- 引入你提供的Hls.js的JS文件 -->
    <script src="https://raw.kkgithub.com/miku1hhhh/miku1hhhh.github.io/main/dist/hls.js"></script>

    <script>
        document.addEventListener("DOMContentLoaded", function() {
            var video = document.getElementById('videojs-hls-player');
            var videoSrc = 'https://miku1hhhh.github.io/aotu32/32end.m3u8';

            if (Hls.isSupported()) {
                var hls = new Hls();
                hls.loadSource(videoSrc);
                hls.attachMedia(video);
                hls.on(Hls.Events.MANIFEST_PARSED, function () {
                    // 自动播放之前需要用户交互
                    video.addEventListener('click', function () {
                        video.play();
                    });
                });
            } else if (video.canPlayType('application/vnd.apple.mpegurl')) {
                video.src = videoSrc;
                video.addEventListener('canplay', function () {
                    // 自动播放之前需要用户交互
                    video.addEventListener('click', function () {
                        video.play();
                    });
                });
            }

            // 初始化Video.js播放器
            var player = videojs(video);
        });
    </script>
</body>
</html>
